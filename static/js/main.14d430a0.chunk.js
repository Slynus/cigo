(this.webpackJsonpcigo=this.webpackJsonpcigo||[]).push([[0],{69:function(e,t,a){e.exports=a(82)},81:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),l=a.n(c),o=a(124),u=a(127),s=a(58),i=a(130),p=a(123),m=a(41),f=a(19),h=a.n(f),b=a(32),d=a(13),E=a(129),v=a(119),x=a(126),j=a(122),w=a(84),O=a(132),y=a(128),g=a(43),k=a.n(g),C=a(116),V=a(42);V.setLevel("error");var I=V,S=Object(C.a)({fab:{margin:0,top:"auto",right:20,bottom:20,left:"auto",position:"fixed"}});function A(e){var t=S();return r.a.createElement(r.a.Fragment,null,r.a.createElement(u.a,{display:"flex",flexDirection:"column"},r.a.createElement(u.a,{my:1},r.a.createElement(L,{list:e.searchCityList,defaultValue:e.searchDefaultValue,inputValue:e.searchInputValue,handleChange:e.searchHandleChange,label:"Ville"})),r.a.createElement(u.a,{my:1},r.a.createElement(P,{text:e.meteoText})),r.a.createElement(u.a,{my:1},r.a.createElement("div",{style:{padding:"50px",backgroundColor:"aqua"}})),r.a.createElement(E.a,{mdUp:!0},r.a.createElement(v.a,{color:"primary","aria-label":"search",className:t.fab},r.a.createElement(k.a,null)))))}function L(e){var t=Object(O.a)({limit:25,ignoreCase:!0,ignoreAccents:!0});return r.a.createElement(y.a,{defaultValue:e.defaultValue.label,options:e.list.map((function(e){return e.label})),onInputChange:e.handleChange,selectOnFocus:!0,handleHomeEndKeys:!0,freeSolo:!0,filterOptions:t,renderInput:function(t){return r.a.createElement(x.a,Object.assign({},t,{label:e.label,variant:"outlined",InputProps:Object(m.a)(Object(m.a)({},t.InputProps),{},{startAdornment:r.a.createElement(j.a,{position:"end"},r.a.createElement(k.a,null))})}))}})}function P(e){return r.a.createElement(w.a,{variant:"h1",component:"h1",gutterBottom:!0},e.text)}var F=function(e){var t={label:"Rennes",id:352380},a=Object(n.useState)(t),c=Object(d.a)(a,2),l=c[0],o=c[1],u=Object(n.useState)(l),s=Object(d.a)(u,2),i=s[0],p=s[1],m=Object(n.useState)([]),f=Object(d.a)(m,2),E=f[0],v=f[1],x=Object(n.useState)(""),j=Object(d.a)(x,2),w=j[0],O=j[1];function y(e){return g.apply(this,arguments)}function g(){return(g=Object(b.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://cors-anywhere.herokuapp.com/http://www.meteofrance.com","/mf3-rpc-portlet/rest/lieu/facet/pluie/search"),e.next=3,fetch("".concat(a,"/").concat(t));case 3:if(!(n=e.sent).ok){e.next=12;break}return e.next=7,n.json();case 7:return r=e.sent,c=r.map((function(e){var t=e.nomAffiche.split(" ");return t.length>1&&(t.pop(),t=t.join(" ")),{label:t,id:e.id}})),e.abrupt("return",c);case 12:throw new Error("Can't Fetch Search API");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(e){return C.apply(this,arguments)}function C(){return(C=Object(b.a)(h.a.mark((function e(t){var a,n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="".concat("https://cors-anywhere.herokuapp.com/http://www.meteofrance.com","/mf3-rpc-portlet/rest/pluie"),e.next=3,fetch("".concat(a,"/").concat(t));case 3:if(!(n=e.sent).ok){e.next=12;break}return e.next=7,n.json();case 7:return r=e.sent,c=r.dataCadran.map((function(e){return e.niveauPluie})),e.abrupt("return",c);case 12:throw new Error("Can't Fetch Meteo API");case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,y(t);case 3:a=e.sent,v(a),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),I.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}2!==l.label.length&&l.label!==t.label||function(t){e.apply(this,arguments)}(l.label)}),[l,t.label]),Object(n.useEffect)((function(){function e(){return(e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(t);case 3:e.sent[0]>1?O("Attention pluie pr\xe9vue ! \ud83c\udf27\ufe0f"):O("Vous pouvez sortir sans risque ! \ud83d\ude0e"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),I.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}document.title="".concat(i.label),function(t){e.apply(this,arguments)}(i.id)}),[i,w]),r.a.createElement(A,{searchDefaultValue:t,searchInputValue:l,searchCityList:E,searchHandleChange:function(e,t){var a=E.find((function(e){return e.label.toLowerCase()===t.toLowerCase()}));a?(o(a),p(a)):o({label:t})},meteoText:w})},D=Object(s.a)();D=Object(i.a)(D);var H=function(){return r.a.createElement(p.a,{theme:D},r.a.createElement(o.a,{maxWidth:!1},r.a.createElement(u.a,{my:6},r.a.createElement(o.a,{component:"main",maxWidth:"md"},r.a.createElement(F,null)))))},q=a(125);a(81);l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(q.a,null),r.a.createElement(H,null)),document.getElementById("root"))}},[[69,1,2]]]);
//# sourceMappingURL=main.14d430a0.chunk.js.map